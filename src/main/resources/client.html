<html>
<head>
warp.js
<title>Hello</title>
<style>
#graph-container {
	top: 0;
	left: 0;
	position: absolute;
}

.tooltip {
	display: none;
	position: absolute;
	border: 1px solid #333;
	background-color: #161616;
	border-radius: 5px;
	padding: 10px;
	color: #fff;
	max-width: 200px;
}
</style>
<script src="js/displayGraph.js"></script>


</head>
<body>
	<div>Media Delivery Network Simulator</div>
	<div id="main">
		<input id="btnStart" type="button" value="Start"
			onclick="startSimulation();" />
		<div id="container">
			<div id="graph-container"></div>
		</div>
	</div>

<script type="text/javascript">	
	Warp.on("connect", function() {
		console.log("Now registered at " + Warp.uri);
		//init();
	});
	/*function init(){
		console.log(Warp.uri);
		init = {warpURI: Warp.uri, nodeIP: "", port: "", type: "WEB_CLIENT"};
		Warp.send({to: "warp://cmu-sv:mdn-manager/discover",data: init});
	}*/
	function startSimulation(){		
		start = {sourceNodeName: "source-1", sinkNodeName: "sink-1", dataSize: 10000, 
					streamRate: 5, streamID: "1"};
		Warp.send({to: "warp://cmu-sv:mdn-manager/start_simulation",data: start});
	}
	
	Warp.on({		
		post: function(m) {
			console.log("POST data: " + m.text); //m.object for JSON
		},
		message: function(m) {
			console.log("Got uncaught message: " + m.text); //m.text for string			
		}		
	});

	Warp.at("/update").on("message", function(m) {
		console.log("Got message: " + m.object);
		console.log(m.object.nodes);
		console.log(m.object.edges);
	});
</script>
</body>
</html>